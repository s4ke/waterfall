<!DOCTYPE html>
<!-- saved from url=(0057)http://www.jqplot.com/deploy/dist/examples/waterfall.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
	
	<title>Waterfall Charts</title>

    <link class="include" rel="stylesheet" type="text/css" href="./waterfall_files/jquery.jqplot.min.css">
    <link rel="stylesheet" type="text/css" href="./waterfall_files/examples.min.css">
    <link type="text/css" rel="stylesheet" href="./waterfall_files/shCoreDefault.min.css">
    <link type="text/css" rel="stylesheet" href="./waterfall_files/shThemejqPlot.min.css">
  
  <!--[if lt IE 9]><script language="javascript" type="text/javascript" src="../excanvas.js"></script><![endif]-->
    <script class="include" type="text/javascript" src="./waterfall_files/jquery.min.js.Download"></script>
	<script class="include" type="text/javascript" src="./waterfall_files/download.js"></script>
	
<style>
    body
    {
        width:80%;
        margin-left:auto;
        margin-right:auto;
    }
</style>
    
   
</head>
<body>  
<form>
	Breite:<br>
	<input type="text" name="width" id="width" value="400"/><br>
	HÃ¶he:<br>
	<input type="text" name="height" id="height" value="400"/><br>
	Datenwerte:<br>
	<textarea cols="40" rows="5" name="line" id="line">[15, -3, -3 , -3, -3, -3]</textarea><br>
	Beschriftungen:<br>
	<textarea cols="40" rows="5" name="ticks" id="ticks">['start', '1', '2', '3', '4', '5']</textarea><br>
	Name:<br>
	<input type="text" name="name" id="name" value="Plot" /><br>
	<br>
	<button type="button" id="plotme" onclick="plotData()">Plot Data!</button>
</form>
	
<div id="content">
	
</div>
  
<script type="text/javascript">

(function ( $ ) {
	$.fn.jqplotSaveImage2 = function(filename) {
		var imgData = this.jqplotToImageStr({});
		if (imgData) {
			download(imgData, filename, "image/png");
		}
	};
}( jQuery ));


function plotData() {
	plot($('#width').val(), $('#height').val(), eval($('#line').val()), eval($('#ticks').val()), $('#name').val());
}

function downloadPicture(name) {
	$("#chartdiv").jqplotSaveImage2(name + ".png");
}

function plot(width, height, line, ticks, name) {
	$("#content").html('<div id="chartdiv" style="height:' + height + 'px;width:' + width + 'px; "></div>');
    var plot1 = $.jqplot('chartdiv', [line], {
        title: name,
        seriesDefaults:{
            renderer:$.jqplot.BarRenderer, 
            rendererOptions:{
                waterfall:true,
                varyBarColor: true
            },
            pointLabels: {
                hideZeros: true
            },
            yaxis:'y2axis'
        },
        axes:{
            xaxis:{
                renderer:$.jqplot.CategoryAxisRenderer, 
                ticks:ticks,
                tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                tickOptions: {
                    angle: -90,
                    fontSize: '10pt',
                    showMark: false,
                    showGridline: false
                }
            },
            y2axis: {
                min: 0,
                tickInterval: 5
            }
        }
    });
	$("#content").append('<button onclick="downloadPicture(\'' + name + '\')">Download</button>');
}
</script>

<!-- End example scripts -->

<!-- Don't touch this! -->


<script class="include" type="text/javascript" src="./waterfall_files/jquery.jqplot.min.js.Download"></script>
<script type="text/javascript" src="./waterfall_files/shCore.min.js.Download"></script>
<script type="text/javascript" src="./waterfall_files/shBrushJScript.min.js.Download"></script>
<script type="text/javascript" src="./waterfall_files/shBrushXml.min.js.Download"></script>
<!-- End Don't touch this! -->

<!-- Additional plugins go here -->
<script class="include" type="text/javascript" src="./waterfall_files/jqplot.barRenderer.min.js.Download"></script>
<script class="include" type="text/javascript" src="./waterfall_files/jqplot.categoryAxisRenderer.min.js.Download"></script>
<script class="include" type="text/javascript" src="./waterfall_files/jqplot.canvasAxisTickRenderer.min.js.Download"></script>
<script class="include" type="text/javascript" src="./waterfall_files/jqplot.canvasTextRenderer.min.js.Download"></script>
<script class="include" type="text/javascript" src="./waterfall_files/jqplot.pointLabels.min.js.Download"></script>

<!-- End additional plugins -->





</body></html>
